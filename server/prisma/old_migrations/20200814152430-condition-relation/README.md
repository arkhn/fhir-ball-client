# Migration `20200814152430-condition-relation`

This migration has been generated by Jasopaum at 8/14/2020, 5:24:30 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "ConditionRelation" AS ENUM ('EQ', 'LT', 'LE', 'GE', 'GT', 'NULL', 'NOTNULL');

ALTER TABLE "pyrog"."Condition" DROP COLUMN "relation",
ADD COLUMN "relation" "ConditionRelation" NOT NULL DEFAULT E'EQ';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200807160353-resource-logical-reference..20200814152430-condition-relation
--- datamodel.dml
+++ datamodel.dml
@@ -4,9 +4,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // One per software (Chimio, Crossway, etc)
 model Template {
@@ -161,16 +161,27 @@
   INCLUDE
   EXCLUDE
 }
+enum ConditionRelation {
+  EQ
+  LT
+  LE
+  GE
+  GT
+  NULL
+  NOTNULL
+}
+
 model Condition {
-  id           String           @default(cuid()) @id
+  id           String            @default(cuid()) @id
   action       ConditionAction?
-  columnId     String?          @map("column")
-  sqlValue     Column?          @relation(fields: [columnId], references: [id])
+  columnId     String?           @map("column")
+  sqlValue     Column?           @relation(fields: [columnId], references: [id])
+  relation     ConditionRelation @default(EQ)
   value        String?
-  inputGroupId String           @map("inputGroup")
-  inputGroup   InputGroup       @relation(fields: [inputGroupId], references: [id])
+  inputGroupId String            @map("inputGroup")
+  inputGroup   InputGroup        @relation(fields: [inputGroupId], references: [id])
 }
 enum Role {
   ADMIN
```


