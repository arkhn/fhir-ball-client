# Migration `20200831134344-default-logical-reference`

This migration has been generated by Jasopaum at 8/31/2020, 3:43:44 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TYPE "DatabaseType" ADD VALUE 'MSSQL'

ALTER TABLE "pyrog"."Resource" ALTER COLUMN "logicalReference" DROP DEFAULT;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200827162604-add-mssql..20200831134344-default-logical-reference
--- datamodel.dml
+++ datamodel.dml
@@ -4,9 +4,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // One per software (Chimio, Crossway, etc)
 model Template {
@@ -56,9 +56,9 @@
 }
 model Resource {
   id               String      @default(cuid()) @id
-  logicalReference String      @default("")
+  logicalReference String      @default(uuid())
   label            String?
   primaryKeyTable  String?
   primaryKeyColumn String?
   // filters on db to avoid processing all the DB
```


